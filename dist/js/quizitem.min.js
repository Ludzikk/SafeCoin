"use strict";var quizIcon=document.querySelectorAll(".main__quizicon"),quizCoinName=document.querySelectorAll(".main__quizcoin"),quizPrice=document.querySelectorAll(".main__price"),quizItem=document.querySelectorAll(".main__quizitem"),quizText=document.querySelectorAll(".main__quiztext"),quizItemInside=document.querySelectorAll(".quiz__item"),quizBtn=document.querySelectorAll(".main__quizbtn"),quizTitle=document.querySelector(".quiz__title"),quizBox=document.querySelector(".quiz"),quitBtn=document.querySelector("#quit"),startNextBtn=document.querySelector("#startnext"),quizList=document.querySelector(".quiz__list"),questions=[["It is cryptocurrency.","It is money.","Idk.","It is not real."],["No.","Yes.","Let me get my money.","Never"],["Not on this site.","No.","Go away","Yes"],["No.","Leave me alone.","Yes.","Let me get my money."]],API={headers:{"Content-Type":"application/json","x-access-token":"coinrankingcdb587ca6614f8d7a25f8045f80593c8d963533b63e693db"}},coinsData=[],started=!1,choosed=!1,wrongAnswer=!1,currentQuestion=0,request=fetch("https://api.coinranking.com/v2/coins",API).then(function(t){return t.json()}).then(function(t){coinsData.push(t.data.coins),setIconOfItem()}),setIconOfItem=function(){var e=0,n=0,i=0,s=0;quizIcon.forEach(function(t){t.setAttribute("src",coinsData[0][n].iconUrl),t.setAttribute("alt",coinsData[0][n].name),n++}),quizCoinName.forEach(function(t){t.textContent=coinsData[0][e].name,e++}),quizPrice.forEach(function(t){var e=0,e=(0===i?parseFloat(coinsData[0][i].price/1e3):1===i?parseFloat(coinsData[0][i].price/100):parseFloat(coinsData[0][i].price/2)).toFixed(2);t.textContent="".concat(e,"$"),i++}),quizItem.forEach(function(t){t.id=s,s++}),quizBtn.forEach(function(t){t.addEventListener("click",startQuiz)})};function startQuiz(){var e=0;quizList.id=this.parentElement.id,quizBox.classList.remove("hidden"),quizItemInside.forEach(function(t){t.textContent=questions[currentQuestion][e],e++})}var closeQuiz=function(){quizBox.classList.add("hidden"),quizList.classList.add("opacity"),startNextBtn.classList.remove("hidden"),startNextBtn.textContent="Start",quizTitle.textContent="Click start to start quiz",started=!1,currentQuestion=0,quizText.forEach(function(t){var e=sessionStorage.getItem(t.parentElement.id),n=t.parentElement;0===parseInt(e)&&(t.textContent="You already won this quiz.",n.lastElementChild.remove(),sessionStorage.removeItem(t.parentElement.id))})},nextQuestionStart=function(){!1===started&&(quizList.classList.remove("opacity"),startNextBtn.textContent="Next",quizItemInside.forEach(function(t){t.classList.add("click")}),quizTitle.textContent="What is ".concat(coinsData[0][quizList.id].name,"?"),started=!0),!0===choosed&&!1===wrongAnswer&&(quizTitle.textContent="You won!",quizList.classList.add("opacity"),startNextBtn.classList.add("hidden"),sessionStorage.setItem("".concat(quizList.id),"0")),!0===wrongAnswer&&resetQuiz(),quizItemInside.forEach(function(t){t.classList.remove("bad-answer"),t.classList.remove("good-answer")}),choosed=!1},resetQuiz=function(){startNextBtn.textContent="Start",quizTitle.textContent="Click start to start quiz",quizList.classList.add("opacity"),wrongAnswer=choosed=started=!1,currentQuestion=0,quizItemInside.forEach(function(t){t.classList.remove("bad-answer"),t.classList.remove("good-answer")})};function checkAnswer(){!1===choosed&&(0===currentQuestion&&0===parseInt(this.id)?this.classList.add("good-answer"):(this.classList.add("bad-answer"),wrongAnswer=!0,startNextBtn.textContent="Reset")),choosed=!0}var addListeners=function(){quitBtn.addEventListener("click",closeQuiz),startNextBtn.addEventListener("click",nextQuestionStart),quizItemInside.forEach(function(t){t.addEventListener("click",checkAnswer)})};addListeners();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1aXppdGVtLmpzIl0sIm5hbWVzIjpbInF1aXpJY29uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicXVpekNvaW5OYW1lIiwicXVpelByaWNlIiwicXVpekl0ZW0iLCJxdWl6VGV4dCIsInF1aXpJdGVtSW5zaWRlIiwicXVpekJ0biIsInF1aXpUaXRsZSIsInF1ZXJ5U2VsZWN0b3IiLCJxdWl6Qm94IiwicXVpdEJ0biIsInN0YXJ0TmV4dEJ0biIsInF1ZXN0aW9ucyIsImhlYWRlcnMiLCJBUEkiLCJDb250ZW50LVR5cGUiLCJ4LWFjY2Vzcy10b2tlbiIsImN1cnJlbnRRdWVzdGlvbiIsInJlcXVlc3QiLCJmZXRjaCIsImNob29zZWQiLCJyZXNwb25zZSIsInRoZW4iLCJyZXN1bHQiLCJjb2luc0RhdGEiLCJqc29uIiwic2V0SWNvbk9mSXRlbSIsImRhdGEiLCJjdXJyZW50TmFtZSIsImljb24iLCJzZXRBdHRyaWJ1dGUiLCJjdXJyZW50SWNvbiIsImN1cnJlbnRJdGVtIiwidGV4dENvbnRlbnQiLCJpY29uVXJsIiwibmFtZSIsImZvckVhY2giLCJwYXJzZUZsb2F0IiwiY3VycmVudFByaWNlIiwid2luUHJpY2UiLCJwcmljZSIsIml0ZW0iLCJ0b0ZpeGVkIiwiY29uY2F0IiwiY2xhc3NMaXN0IiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0YXJ0UXVpeiIsInF1aXpMaXN0IiwiaWQiLCJyZW1vdmUiLCJpIiwicGFyZW50IiwibGFzdEVsZW1lbnRDaGlsZCIsInNlc3Npb25TdG9yYWdlIiwicmVtb3ZlSXRlbSIsImFkZCIsIm5leHRRdWVzdGlvblN0YXJ0Iiwic3RhcnRlZCIsImdldEl0ZW0iLCJwYXJlbnRFbGVtZW50Iiwid3JvbmdBbnN3ZXIiLCJzZXRJdGVtIiwicmVzZXRRdWl6IiwiY2hlY2tBbnN3ZXIiLCJwYXJzZUludCIsInRoaXMiLCJhZGRMaXN0ZW5lcnMiLCJjbG9zZVF1aXoiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFNB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bkJESyxZQURBekMsUUFEQXNDLFFBc0JDLENBQUEsRUFuQkR6QyxnQkFzQkMsRUFyQkRaLGVBc0JDK0IsUUFBQSxTQUFBSyxHQXJCQUEsRUFzQkFHLFVBQUFNLE9BQUEsWUFBQSxFQXJCQVQsRUFzQkFHLFVBQUFNLE9BQUEsYUFBQSxDQXJCRCxDQUFDLENBQ0YsRUFFQSxTQXNCRWMsY0FDQSxDQUFBLElBQUE1QyxVQUNBLElBQUFILGlCQUFBLElBQUFnRCxTQUFBQyxLQUFBakIsRUFBQSxFQXJCQ2lCLEtBc0JEdEIsVUFBQVksSUFBQSxhQUFBLEdBcEJDVSxLQXNCRHRCLFVBQUFZLElBQUEsWUFBQSxFQXJCQ0ssWUFzQkQsQ0FBQSxFQXJCQ2xELGFBc0JEc0IsWUFBQSxVQUdEYixRQUFVLENBQUEsQ0FDWCxDQUVBLElBQU0rQyxhQUFlLFdBQ3BCekQsUUFBUW9DLGlCQUFpQixRQUFTc0IsU0FBUyxFQUMzQ3pELGFBQWFtQyxpQkFBaUIsUUFBU1csaUJBQWlCLEVBQ3hEcEQsZUFBZStCLFFBQVEsU0FBQ0ssR0FDdkJBLEVBQUtLLGlCQUFpQixRQUFTa0IsV0FBVyxDQUMzQyxDQUFDLENBQ0YsRUFFQUcsYUFBYSIsImZpbGUiOiJxdWl6aXRlbS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBxdWl6SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fcXVpemljb25cIik7XHJcbmNvbnN0IHF1aXpDb2luTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fcXVpemNvaW5cIik7XHJcbmNvbnN0IHF1aXpQcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fcHJpY2VcIik7XHJcbmNvbnN0IHF1aXpJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluX19xdWl6aXRlbVwiKTtcclxuY29uc3QgcXVpelRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1haW5fX3F1aXp0ZXh0XCIpO1xyXG5jb25zdCBxdWl6SXRlbUluc2lkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucXVpel9faXRlbVwiKTtcclxuY29uc3QgcXVpekJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbl9fcXVpemJ0blwiKTtcclxuY29uc3QgcXVpelRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5xdWl6X190aXRsZVwiKTtcclxuY29uc3QgcXVpekJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucXVpelwiKTtcclxuY29uc3QgcXVpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcXVpdFwiKTtcclxuY29uc3Qgc3RhcnROZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGFydG5leHRcIik7XHJcbmNvbnN0IHF1aXpMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5xdWl6X19saXN0XCIpO1xyXG5jb25zdCBxdWVzdGlvbnMgPSBbXHJcblx0W1wiSXQgaXMgY3J5cHRvY3VycmVuY3kuXCIsIFwiSXQgaXMgbW9uZXkuXCIsIFwiSWRrLlwiLCBcIkl0IGlzIG5vdCByZWFsLlwiXSxcclxuXHRbXCJOby5cIiwgXCJZZXMuXCIsIFwiTGV0IG1lIGdldCBteSBtb25leS5cIiwgXCJOZXZlclwiXSxcclxuXHRbXCJOb3Qgb24gdGhpcyBzaXRlLlwiLCBcIk5vLlwiLCBcIkdvIGF3YXlcIiwgXCJZZXNcIl0sXHJcblx0W1wiTm8uXCIsIFwiTGVhdmUgbWUgYWxvbmUuXCIsIFwiWWVzLlwiLCBcIkxldCBtZSBnZXQgbXkgbW9uZXkuXCJdLFxyXG5dO1xyXG5jb25zdCBBUEkgPSB7XHJcblx0aGVhZGVyczoge1xyXG5cdFx0XCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcblx0XHRcIngtYWNjZXNzLXRva2VuXCI6XHJcblx0XHRcdFwiY29pbnJhbmtpbmdjZGI1ODdjYTY2MTRmOGQ3YTI1ZjgwNDVmODA1OTNjOGQ5NjM1MzNiNjNlNjkzZGJcIixcclxuXHR9LFxyXG59O1xyXG5jb25zdCBjb2luc0RhdGEgPSBbXTtcclxubGV0IHN0YXJ0ZWQgPSBmYWxzZTtcclxubGV0IGNob29zZWQgPSBmYWxzZTtcclxubGV0IHdyb25nQW5zd2VyID0gZmFsc2U7XHJcbmxldCBjdXJyZW50UXVlc3Rpb24gPSAwO1xyXG5cclxuY29uc3QgcmVxdWVzdCA9IGZldGNoKFwiaHR0cHM6Ly9hcGkuY29pbnJhbmtpbmcuY29tL3YyL2NvaW5zXCIsIEFQSSlcclxuXHQudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHQudGhlbigocmVzdWx0KSA9PiB7XHJcblx0XHRjb2luc0RhdGEucHVzaChyZXN1bHQuZGF0YS5jb2lucyk7XHJcblx0XHRzZXRJY29uT2ZJdGVtKCk7XHJcblx0XHQvLyBjb25zb2xlLmxvZyhjb2luc0RhdGFbMF1bMF0pO1xyXG5cdH0pO1xyXG5cclxuY29uc3Qgc2V0SWNvbk9mSXRlbSA9ICgpID0+IHtcclxuXHRsZXQgY3VycmVudE5hbWUgPSAwO1xyXG5cdGxldCBjdXJyZW50SWNvbiA9IDA7XHJcblx0bGV0IGN1cnJlbnRQcmljZSA9IDA7XHJcblx0bGV0IGN1cnJlbnRJdGVtID0gMDtcclxuXHJcblx0cXVpekljb24uZm9yRWFjaCgoaWNvbikgPT4ge1xyXG5cdFx0aWNvbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgY29pbnNEYXRhWzBdW2N1cnJlbnRJY29uXS5pY29uVXJsKTtcclxuXHRcdGljb24uc2V0QXR0cmlidXRlKFwiYWx0XCIsIGNvaW5zRGF0YVswXVtjdXJyZW50SWNvbl0ubmFtZSk7XHJcblx0XHRjdXJyZW50SWNvbisrO1xyXG5cdH0pO1xyXG5cclxuXHRxdWl6Q29pbk5hbWUuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG5cdFx0bmFtZS50ZXh0Q29udGVudCA9IGNvaW5zRGF0YVswXVtjdXJyZW50TmFtZV0ubmFtZTtcclxuXHRcdGN1cnJlbnROYW1lKys7XHJcblx0fSk7XHJcblxyXG5cdHF1aXpQcmljZS5mb3JFYWNoKChwcmljZSkgPT4ge1xyXG5cdFx0bGV0IHdpblByaWNlID0gMDtcclxuXHRcdGlmIChjdXJyZW50UHJpY2UgPT09IDApIHtcclxuXHRcdFx0d2luUHJpY2UgPSBwYXJzZUZsb2F0KGNvaW5zRGF0YVswXVtjdXJyZW50UHJpY2VdLnByaWNlIC8gMTAwMCkudG9GaXhlZCgyKTtcclxuXHRcdH0gZWxzZSBpZiAoY3VycmVudFByaWNlID09PSAxKSB7XHJcblx0XHRcdHdpblByaWNlID0gcGFyc2VGbG9hdChjb2luc0RhdGFbMF1bY3VycmVudFByaWNlXS5wcmljZSAvIDEwMCkudG9GaXhlZCgyKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdpblByaWNlID0gcGFyc2VGbG9hdChjb2luc0RhdGFbMF1bY3VycmVudFByaWNlXS5wcmljZSAvIDIpLnRvRml4ZWQoMik7XHJcblx0XHR9XHJcblxyXG5cdFx0cHJpY2UudGV4dENvbnRlbnQgPSBgJHt3aW5QcmljZX0kYDtcclxuXHRcdGN1cnJlbnRQcmljZSsrO1xyXG5cdH0pO1xyXG5cclxuXHRxdWl6SXRlbS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRpdGVtLmlkID0gY3VycmVudEl0ZW07XHJcblx0XHRjdXJyZW50SXRlbSsrO1xyXG5cdH0pO1xyXG5cclxuXHRxdWl6QnRuLmZvckVhY2goKGJ0bikgPT4ge1xyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzdGFydFF1aXopO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gc3RhcnRRdWl6KCkge1xyXG5cdGxldCBpID0gMDtcclxuXHRxdWl6TGlzdC5pZCA9IHRoaXMucGFyZW50RWxlbWVudC5pZDtcclxuXHRxdWl6Qm94LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0cXVpekl0ZW1JbnNpZGUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS50ZXh0Q29udGVudCA9IHF1ZXN0aW9uc1tjdXJyZW50UXVlc3Rpb25dW2ldO1xyXG5cdFx0aSsrO1xyXG5cdH0pO1xyXG59XHJcblxyXG5jb25zdCBjbG9zZVF1aXogPSAoKSA9PiB7XHJcblx0cXVpekJveC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdHF1aXpMaXN0LmNsYXNzTGlzdC5hZGQoXCJvcGFjaXR5XCIpO1xyXG5cdHN0YXJ0TmV4dEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdHN0YXJ0TmV4dEJ0bi50ZXh0Q29udGVudCA9IFwiU3RhcnRcIjtcclxuXHRxdWl6VGl0bGUudGV4dENvbnRlbnQgPSBcIkNsaWNrIHN0YXJ0IHRvIHN0YXJ0IHF1aXpcIjtcclxuXHRzdGFydGVkID0gZmFsc2U7XHJcblx0Y3VycmVudFF1ZXN0aW9uID0gMDtcclxuXHJcblx0cXVpelRleHQuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0Y29uc3Qgc3RvcmFnZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oaXRlbS5wYXJlbnRFbGVtZW50LmlkKTtcclxuXHRcdGNvbnN0IHBhcmVudCA9IGl0ZW0ucGFyZW50RWxlbWVudFxyXG5cclxuXHRcdGlmIChwYXJzZUludChzdG9yYWdlKSA9PT0gMCkge1xyXG5cdFx0XHRpdGVtLnRleHRDb250ZW50ID0gYFlvdSBhbHJlYWR5IHdvbiB0aGlzIHF1aXouYFxyXG5cdFx0XHRwYXJlbnQubGFzdEVsZW1lbnRDaGlsZC5yZW1vdmUoKTtcclxuXHRcdFx0c2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShpdGVtLnBhcmVudEVsZW1lbnQuaWQpXHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBuZXh0UXVlc3Rpb25TdGFydCA9ICgpID0+IHtcclxuXHRsZXQgaSA9IDA7XHJcblxyXG5cdGlmIChzdGFydGVkID09PSBmYWxzZSkge1xyXG5cdFx0cXVpekxpc3QuY2xhc3NMaXN0LnJlbW92ZShcIm9wYWNpdHlcIik7XHJcblx0XHRzdGFydE5leHRCdG4udGV4dENvbnRlbnQgPSBcIk5leHRcIjtcclxuXHRcdHF1aXpJdGVtSW5zaWRlLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0aXRlbS5jbGFzc0xpc3QuYWRkKFwiY2xpY2tcIik7XHJcblx0XHR9KTtcclxuXHRcdHF1aXpUaXRsZS50ZXh0Q29udGVudCA9IGBXaGF0IGlzICR7Y29pbnNEYXRhWzBdW3F1aXpMaXN0LmlkXS5uYW1lfT9gO1xyXG5cdFx0c3RhcnRlZCA9IHRydWU7XHJcblx0fVxyXG5cclxuXHRpZiAoY2hvb3NlZCA9PT0gdHJ1ZSAmJiB3cm9uZ0Fuc3dlciA9PT0gZmFsc2UpIHtcclxuXHRcdHF1aXpUaXRsZS50ZXh0Q29udGVudCA9IGBZb3Ugd29uIWA7XHJcblx0XHRxdWl6TGlzdC5jbGFzc0xpc3QuYWRkKFwib3BhY2l0eVwiKTtcclxuXHRcdHN0YXJ0TmV4dEJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdFx0c2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShgJHtxdWl6TGlzdC5pZH1gLCBcIjBcIik7XHJcblx0fVxyXG5cclxuXHQvLyBpZiAoY2hvb3NlZCA9PT0gdHJ1ZSAmJiB3cm9uZ0Fuc3dlciAhPT0gdHJ1ZSkge1xyXG5cdC8vIFx0aWYgKHN0YXJ0ZWQgPT09IHRydWUgJiYgY3VycmVudFF1ZXN0aW9uID09PSAwKSB7XHJcblx0Ly8gXHRcdGN1cnJlbnRRdWVzdGlvbisrO1xyXG5cdC8vIFx0XHRxdWl6VGl0bGUudGV4dENvbnRlbnQgPSBgSXMgJHtjb2luc0RhdGFbMF1bcXVpekxpc3QuaWRdLm5hbWV9IHNhZmU/YDtcclxuXHQvLyBcdFx0cXVpekl0ZW1JbnNpZGUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdC8vIFx0XHRcdGl0ZW0udGV4dENvbnRlbnQgPSBxdWVzdGlvbnNbY3VycmVudFF1ZXN0aW9uXVtpXTtcclxuXHQvLyBcdFx0XHRpKys7XHJcblx0Ly8gXHRcdH0pO1xyXG5cdC8vIFx0fVxyXG5cdC8vIGVsc2UgaWYgKHN0YXJ0ZWQgPT09IHRydWUgJiYgY3VycmVudFF1ZXN0aW9uID09PSAxKSB7XHJcblx0Ly8gXHRjdXJyZW50UXVlc3Rpb24rKztcclxuXHQvLyBcdHF1aXpUaXRsZS50ZXh0Q29udGVudCA9IGBXaWxsIHlvdSBidXkgJHtjb2luc0RhdGFbMF1bcXVpekxpc3QuaWRdLm5hbWV9P2A7XHJcblx0Ly8gXHRxdWl6SXRlbUluc2lkZS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0Ly8gXHRcdGl0ZW0udGV4dENvbnRlbnQgPSBxdWVzdGlvbnNbY3VycmVudFF1ZXN0aW9uXVtpXTtcclxuXHQvLyBcdFx0aSsrO1xyXG5cdC8vIFx0fSk7XHJcblx0Ly8gfSBlbHNlIGlmIChzdGFydGVkID09PSB0cnVlICYmIGN1cnJlbnRRdWVzdGlvbiA9PT0gMikge1xyXG5cdC8vIFx0Y3VycmVudFF1ZXN0aW9uKys7XHJcblx0Ly8gXHRxdWl6VGl0bGUudGV4dENvbnRlbnQgPSBgSXMgJHtcclxuXHQvLyBcdFx0Y29pbnNEYXRhWzBdW3F1aXpMaXN0LmlkXS5uYW1lXHJcblx0Ly8gXHR9IGdsb2JhbCBjdXJyZW5jeT9gO1xyXG5cdC8vIFx0cXVpekl0ZW1JbnNpZGUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdC8vIFx0XHRpdGVtLnRleHRDb250ZW50ID0gcXVlc3Rpb25zW2N1cnJlbnRRdWVzdGlvbl1baV07XHJcblx0Ly8gXHRcdGkrKztcclxuXHQvLyBcdH0pO1xyXG5cdC8vIH1cclxuXHQvLyB9XHJcblxyXG5cdGlmICh3cm9uZ0Fuc3dlciA9PT0gdHJ1ZSkge1xyXG5cdFx0cmVzZXRRdWl6KCk7XHJcblx0fVxyXG5cclxuXHRxdWl6SXRlbUluc2lkZS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJiYWQtYW5zd2VyXCIpO1xyXG5cdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiZ29vZC1hbnN3ZXJcIik7XHJcblx0fSk7XHJcblxyXG5cdGNob29zZWQgPSBmYWxzZTtcclxufTtcclxuXHJcbmNvbnN0IHJlc2V0UXVpeiA9ICgpID0+IHtcclxuXHRzdGFydE5leHRCdG4udGV4dENvbnRlbnQgPSBcIlN0YXJ0XCI7XHJcblx0cXVpelRpdGxlLnRleHRDb250ZW50ID0gXCJDbGljayBzdGFydCB0byBzdGFydCBxdWl6XCI7XHJcblx0cXVpekxpc3QuY2xhc3NMaXN0LmFkZChcIm9wYWNpdHlcIik7XHJcblx0c3RhcnRlZCA9IGZhbHNlO1xyXG5cdGNob29zZWQgPSBmYWxzZTtcclxuXHR3cm9uZ0Fuc3dlciA9IGZhbHNlO1xyXG5cdGN1cnJlbnRRdWVzdGlvbiA9IDA7XHJcblx0cXVpekl0ZW1JbnNpZGUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiYmFkLWFuc3dlclwiKTtcclxuXHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImdvb2QtYW5zd2VyXCIpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY2hlY2tBbnN3ZXIoKSB7XHJcblx0aWYgKGNob29zZWQgPT09IGZhbHNlKSB7XHJcblx0XHRpZiAoY3VycmVudFF1ZXN0aW9uID09PSAwICYmIHBhcnNlSW50KHRoaXMuaWQpID09PSAwKSB7XHJcblx0XHRcdHRoaXMuY2xhc3NMaXN0LmFkZChcImdvb2QtYW5zd2VyXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5jbGFzc0xpc3QuYWRkKFwiYmFkLWFuc3dlclwiKTtcclxuXHRcdFx0d3JvbmdBbnN3ZXIgPSB0cnVlO1xyXG5cdFx0XHRzdGFydE5leHRCdG4udGV4dENvbnRlbnQgPSBcIlJlc2V0XCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gaWYgKGN1cnJlbnRRdWVzdGlvbiA9PT0gMSAmJiBwYXJzZUludCh0aGlzLmlkKSA9PT0gMSkge1xyXG5cdFx0Ly8gXHR0aGlzLmNsYXNzTGlzdC5hZGQoXCJnb29kLWFuc3dlclwiKTtcclxuXHRcdC8vIH0gZWxzZSB7XHJcblx0XHQvLyBcdHRoaXMuY2xhc3NMaXN0LmFkZChcImJhZC1hbnN3ZXJcIik7XHJcblx0XHQvLyBcdHdyb25nQW5zd2VyID0gdHJ1ZTtcclxuXHRcdC8vIFx0c3RhcnROZXh0QnRuLnRleHRDb250ZW50ID0gXCJSZXNldFwiO1xyXG5cdFx0Ly8gfVxyXG5cdFx0Ly8gaWYgKGN1cnJlbnRRdWVzdGlvbiA9PT0gMiAmJiBwYXJzZUludCh0aGlzLmlkKSA9PT0gMykge1xyXG5cdFx0Ly8gXHR0aGlzLmNsYXNzTGlzdC5hZGQoXCJnb29kLWFuc3dlclwiKTtcclxuXHRcdC8vIH0gZWxzZSB7XHJcblx0XHQvLyBcdHRoaXMuY2xhc3NMaXN0LmFkZChcImJhZC1hbnN3ZXJcIik7XHJcblx0XHQvLyBcdHdyb25nQW5zd2VyID0gdHJ1ZTtcclxuXHRcdC8vIFx0c3RhcnROZXh0QnRuLnRleHRDb250ZW50ID0gXCJSZXNldFwiO1xyXG5cdFx0Ly8gfVxyXG5cdFx0Ly8gaWYgKGN1cnJlbnRRdWVzdGlvbiA9PT0gMyAmJiBwYXJzZUludCh0aGlzLmlkKSA9PT0gMikge1xyXG5cdFx0Ly8gXHR0aGlzLmNsYXNzTGlzdC5hZGQoXCJnb29kLWFuc3dlclwiKTtcclxuXHRcdC8vIH0gZWxzZSB7XHJcblx0XHQvLyBcdHRoaXMuY2xhc3NMaXN0LmFkZChcImJhZC1hbnN3ZXJcIik7XHJcblx0XHQvLyBcdHdyb25nQW5zd2VyID0gdHJ1ZTtcclxuXHRcdC8vIFx0c3RhcnROZXh0QnRuLnRleHRDb250ZW50ID0gXCJSZXNldFwiO1xyXG5cdFx0Ly8gfVxyXG5cdH1cclxuXHRjaG9vc2VkID0gdHJ1ZTtcclxufVxyXG5cclxuY29uc3QgYWRkTGlzdGVuZXJzID0gKCkgPT4ge1xyXG5cdHF1aXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlUXVpeik7XHJcblx0c3RhcnROZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBuZXh0UXVlc3Rpb25TdGFydCk7XHJcblx0cXVpekl0ZW1JbnNpZGUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2hlY2tBbnN3ZXIpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuYWRkTGlzdGVuZXJzKCk7XHJcbiJdfQ==
